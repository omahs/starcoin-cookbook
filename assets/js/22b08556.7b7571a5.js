"use strict";(self.webpackChunkstarcoin_cookbook=self.webpackChunkstarcoin_cookbook||[]).push([[9476],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=a.createContext({}),s=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=o,f=d["".concat(i,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(f,c(c({ref:t},p),{},{components:n})):a.createElement(f,c({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,c=new Array(r);c[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,c[1]=l;for(var s=2;s<r;s++)c[s]=n[s];return a.createElement.apply(null,c)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4369:function(e,t,n){n.r(t),n.d(t,{assets:function(){return i},contentTitle:function(){return c},default:function(){return u},frontMatter:function(){return r},metadata:function(){return l},toc:function(){return s}});var a=n(3117),o=(n(7294),n(3905));const r={},c="Create a new NFT",l={unversionedId:"move/move-examples/create-a-new-nft",id:"move/move-examples/create-a-new-nft",title:"Create a new NFT",description:"In this chapter, we will focus on how to create a custom non-fungible token on the Starcoin blockchain. Let's get started.",source:"@site/docs/03-move/98-move-examples/02-create-a-new-nft.md",sourceDirName:"03-move/98-move-examples",slug:"/move/move-examples/create-a-new-nft",permalink:"/docs/move/move-examples/create-a-new-nft",draft:!1,editUrl:"https://github.com/starcoinorg/starcoin-cookbook/edit/main/docs/03-move/98-move-examples/02-create-a-new-nft.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Create a new Token",permalink:"/docs/move/move-examples/create-a-new-token"},next:{title:"Advanced Move",permalink:"/docs/move/advance-move/"}},i={},s=[{value:"Required",id:"required",level:2},{value:"Compile the module",id:"compile-the-module",level:2},{value:"Get devnet test coins",id:"get-devnet-test-coins",level:2},{value:"Deploy module",id:"deploy-module",level:2},{value:"Execute script function",id:"execute-script-function",level:2}],p={toc:s};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"create-a-new-nft"},"Create a new NFT"),(0,o.kt)("p",null,"In this chapter, we will focus on how to create a custom non-fungible token on the Starcoin blockchain. Let's get started."),(0,o.kt)("h2",{id:"required"},"Required"),(0,o.kt)("p",null,"First, start a dev network described in ",(0,o.kt)("a",{parentName:"p",href:"/docs/getting-started/setup/dev-network"},"How to set up a local dev network")," and get some coins, say ",(0,o.kt)("inlineCode",{parentName:"p"},"1000000000"),"."),(0,o.kt)("p",null,"In this document, I will use ",(0,o.kt)("inlineCode",{parentName:"p"},"0xb19b07b76f00a8df445368a91c0547cc"),", the default account address of my dev network, to represent the person who issues and send the new token."),(0,o.kt)("p",null,"The source file can be found at ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/starcoinorg/starcoin-cookbook/tree/main/examples/simple-nft"},"simple-nft"),"."),(0,o.kt)("h2",{id:"compile-the-module"},"Compile the module"),(0,o.kt)("p",null,"Clone the code from github and enter the ",(0,o.kt)("inlineCode",{parentName:"p"},"simple-nft")," folder:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/starcoinorg/starcoin-cookbook.git\ncd starcoin-cookbook/examples/simple-nft\n")),(0,o.kt)("p",null,"Replace the SNFT address with your default address in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Move.toml")," file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-toml"},'[addresses]\nStarcoinFramework = "0x1"\nSNFT = "0xb19b07b76f00a8df445368a91c0547cc"\n')),(0,o.kt)("p",null,"Run mpm release in another shell console for release package:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ mpm release\n\nPackaging Modules:\n         0xb19b07b76f00a8df445368a91c0547cc::SimpleNFT\n         0xb19b07b76f00a8df445368a91c0547cc::SimpleNFTScripts\nRelease done: release/simple-nft.v0.0.1.blob, package hash: 0x39bf53490461a9ccf07804312561280e7dafa4ba8ea102913c022de5c9a80555\n")),(0,o.kt)("p",null,"It will compile the module, and then you will get the binary package ",(0,o.kt)("inlineCode",{parentName:"p"},"simple-nft.v0.0.1.blob")," in ",(0,o.kt)("inlineCode",{parentName:"p"},"release")," folder. We will use it then."),(0,o.kt)("p",null,"We will need to import ",(0,o.kt)("inlineCode",{parentName:"p"},"0xb19b07b76f00a8df445368a91c0547cc")," account to deploy the module."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'starcoin% account import -i 0x05c9d09cd06a49e99efd0308c64bfdfb57409e10bc9e2a57cb4330cd946b4e83 -p <MY-PASSWORD>\n\n{\n  "ok": {\n    "address": "0xb19b07b76f00a8df445368a91c0547cc",\n    "is_default": false,\n    "is_readonly": false,\n    "public_key": "0x7932502fa3f8c9bc9c9bb994f718b9bd90e58a6cdb145e24769560d3c96254d2",\n    "receipt_identifier": "stc1pkxds0dm0qz5d73zndz53cp28esyfj4ue"\n  }\n}\n')),(0,o.kt)("h2",{id:"get-devnet-test-coins"},"Get devnet test coins"),(0,o.kt)("p",null,"Get some STC coin from ",(0,o.kt)("inlineCode",{parentName:"p"},"dev")," net, and it will send ",(0,o.kt)("inlineCode",{parentName:"p"},"1000000000")," STC to the account by default."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"starcoin% dev get-coin 0xb19b07b76f00a8df445368a91c0547cc\n")),(0,o.kt)("h2",{id:"deploy-module"},"Deploy module"),(0,o.kt)("p",null,"Then, unlock the account and deploy ",(0,o.kt)("inlineCode",{parentName:"p"},"SimpleNFT")," module and ",(0,o.kt)("inlineCode",{parentName:"p"},"SimpleNFTScripts")," module."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"starcoin% account unlock 0xb19b07b76f00a8df445368a91c0547cc -p <MY-PASSWORD>\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'starcoin% dev deploy /path/to/simple-nft/release/simple-nft.v0.0.1.blob -s 0xb19b07b76f00a8df445368a91c0547cc -b\n\ntxn 0x60e31b4e4fe974f66b80c3e69c659a573b4022754430bf030576292e1358d7b0 submitted.\n{\n  "ok": {\n    "dry_run_output": {\n      "events": [],\n      "explained_status": "Executed",\n      "gas_used": "37536",\n      "status": "Executed",\n      "write_set": [\n        {\n          "access_path": "0x00000000000000000000000000000001/1/0x00000000000000000000000000000001::TransactionFee::TransactionFee<0x00000000000000000000000000000001::STC::STC>",\n          "action": "Value",\n          "value": {\n            "Resource": {\n              "json": {\n                "fee": {\n                  "value": 322067\n                }\n              },\n              "raw": "0x13ea0400000000000000000000000000"\n            }\n          }\n        },\n  .....\n  ....\n}\n')),(0,o.kt)("p",null,"You can see that the transation is submitted and the result status is ",(0,o.kt)("inlineCode",{parentName:"p"},"Executed"),". That means the module has been deployed."),(0,o.kt)("h2",{id:"execute-script-function"},"Execute script function"),(0,o.kt)("p",null,"First\uff0cexecute the initialize transaction in starcoin console:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"starcoin% account execute-function --function 0xb19b07b76f00a8df445368a91c0547cc::SimpleNFTScripts::initialize -b\n")),(0,o.kt)("p",null,"Then, mint a test nft:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"starcoin% account execute-function --function 0xb19b07b76f00a8df445368a91c0547cc::SimpleNFTScripts::test_mint_with_image_data -b\n")),(0,o.kt)("p",null,"Last, run ",(0,o.kt)("inlineCode",{parentName:"p"},"account nft list")," to check the NFT in the account:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'starcoin% account nft list\n{\n  "ok": {\n    "list": [\n      {\n        "base_meta": {\n          "description": "test description",\n          "image": "",\n          "image_data": "<\u7701\u7565 image_data>",\n          "name": "test nft"\n        },\n        "body": {\n          "dummy_field": false\n        },\n        "creator": "0xb19b07b76f00a8df445368a91c0547cc",\n        "id": 1,\n        "nft_type": "0xb19b07b76f00a8df445368a91c0547cc::SimpleNFT::SimpleNFT/0xb19b07b76f00a8df445368a91c0547cc::SimpleNFT::SimpleNFTBody",\n        "type_meta": {\n          "dummy_field": false\n        },\n        "uuid": "0xb19b07b76f00a8df445368a91c0547cc::SimpleNFT::SimpleNFT/0xb19b07b76f00a8df445368a91c0547cc::SimpleNFT::SimpleNFTBody/1"\n      }\n    ]\n  }\n}\n')),(0,o.kt)("p",null,"We can now see a NFT witd ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," 1 in your account."))}u.isMDXComponent=!0}}]);