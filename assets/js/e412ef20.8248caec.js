"use strict";(self.webpackChunkstarcoin_cookbook=self.webpackChunkstarcoin_cookbook||[]).push([[6799],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=o,h=d["".concat(c,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8806:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return i},default:function(){return u},frontMatter:function(){return r},metadata:function(){return l},toc:function(){return s}});var a=n(3117),o=(n(7294),n(3905));const r={},i="Quick Start",l={unversionedId:"move/quick-start",id:"move/quick-start",title:"Quick Start",description:"In this tutorial, we will implement a simple counter to show how Move manages resources through code.",source:"@site/docs/03-move/02-quick-start.md",sourceDirName:"03-move",slug:"/move/quick-start",permalink:"/starcoin-cookbook/docs/move/quick-start",draft:!1,editUrl:"https://github.com/starcoinorg/starcoin-cookbook/edit/main/docs/03-move/02-quick-start.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Setting up Move develop environment",permalink:"/starcoin-cookbook/docs/move/prepare-move-env"},next:{title:"Move Language",permalink:"/starcoin-cookbook/docs/move/move-language/"}},c={},s=[{value:"mpm command-line tool and project structure",id:"mpm-command-line-tool-and-project-structure",level:2},{value:"Create a MyCounter module",id:"create-a-mycounter-module",level:2},{value:"The first version of the code",id:"the-first-version-of-the-code",level:3},{value:"Initialization method init",id:"initialization-method-init",level:3},{value:"Counter plus one method incr",id:"counter-plus-one-method-incr",level:3},{value:"Write a callable script function",id:"write-a-callable-script-function",level:3},{value:"Call init_counter to initialize resources",id:"call-init_counter-to-initialize-resources",level:3},{value:"Call incr_counter incremental counter",id:"call-incr_counter-incremental-counter",level:3},{value:"Another account call",id:"another-account-call",level:3},{value:"What course to follow",id:"what-course-to-follow",level:2}],p={toc:s};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"quick-start"},"Quick Start"),(0,o.kt)("p",null,"In this tutorial, we will implement a simple counter to show how Move manages resources through code.\nThis document covers background knowledge, writing code, how to compile, how to publish to the chain, and how to call.\nThe complete code repository is ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/starcoinorg/starcoin-cookbook/tree/main/examples/my-counter"},"here"),"."),(0,o.kt)("p",null,"Prepare in advance:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"You need to build a ",(0,o.kt)("em",{parentName:"p"},"dev")," network according to ",(0,o.kt)("a",{parentName:"p",href:"/starcoin-cookbook/docs/getting-started/setup/dev-network"},"how to set up a local development network")," and connect to the ",(0,o.kt)("em",{parentName:"p"},"dev")," network through the Starcoin console.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create an account according to ",(0,o.kt)("a",{parentName:"p",href:"/starcoin-cookbook/docs/getting-started/accounts/account-manage"},"account management")," or use an existing account, and transfer a little STC to the account.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"There is a basic understanding of the ",(0,o.kt)("em",{parentName:"p"},"transaction")," through ",(0,o.kt)("a",{parentName:"p",href:"/starcoin-cookbook/docs/getting-started/accounts/first-transaction"},"the first on-chain transaction"),"."))),(0,o.kt)("p",null,"Next, we will introduce some necessary tools and project structure."),(0,o.kt)("h2",{id:"mpm-command-line-tool-and-project-structure"},"mpm command-line tool and project structure"),(0,o.kt)("p",null,"Before we start writing code, let's install the ",(0,o.kt)("inlineCode",{parentName:"p"},"mpm")," (Move Package Manager) command line tool and briefly introduce the structure of the Move project."),(0,o.kt)("admonition",{title:"Introduction to MPM",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"p"},"mpm")," is encapsulated and integrated with some additional functions on the basis of ",(0,o.kt)("inlineCode",{parentName:"p"},"move-cli")," by Starcoin developers to facilitate the development, testing and deployment of Starcoin smart contracts.")),(0,o.kt)("p",null,"The installation method is to ",(0,o.kt)("a",{parentName:"p",href:"/starcoin-cookbook/docs/move/prepare-move-env"},"set up the Move development environment"),"."),(0,o.kt)("p",null,"Now you can create a new project through ",(0,o.kt)("inlineCode",{parentName:"p"},"mpm"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ mpm package new my-counter\n")),(0,o.kt)("p",null,"You can see the generated directory structure:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"my-counter\n\u251c\u2500\u2500 Move.toml\n\u2514\u2500\u2500 sources\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"sources")," - Directory of storing the Move module."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Move.toml")," - Manifest file: Define the metadata, dependencies and named addresses of the package.")),(0,o.kt)("admonition",{title:"MOVE MODULE",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"A module is a library that define ",(0,o.kt)("strong",{parentName:"p"},"structure types")," and ",(0,o.kt)("strong",{parentName:"p"},"functions")," of manipulate structures.\n",(0,o.kt)("em",{parentName:"p"},"The concept of class in other programming languages can be used to help understand.")),(0,o.kt)("p",{parentName:"admonition"},"The module will be published to the publisher's address, and the ",(0,o.kt)("em",{parentName:"p"},"entry functions")," in the module can be called and executed by everyone.\n",(0,o.kt)("em",{parentName:"p"},"(You can use function computing platforms such as AWS Lambda to publish functions and call functions to help understand)"))),(0,o.kt)("p",null,"A project consisting of ",(0,o.kt)("em",{parentName:"p"},"Move.toml")," files and ",(0,o.kt)("em",{parentName:"p"},"sources")," directory will be considered a ",(0,o.kt)("a",{parentName:"p",href:"/starcoin-cookbook/docs/move/move-language/packages"},"Move Package"),"."),(0,o.kt)("h2",{id:"create-a-mycounter-module"},"Create a MyCounter module"),(0,o.kt)("p",null,"Create a ",(0,o.kt)("em",{parentName:"p"},"MyCounter.move")," file in the ",(0,o.kt)("em",{parentName:"p"},"sources")," directory to store the code of the module."),(0,o.kt)("p",null,"The module we are going to create is named ",(0,o.kt)("inlineCode",{parentName:"p"},"MyCounter"),".\nIn this article, we will demonstrate it using an account address ",(0,o.kt)("inlineCode",{parentName:"p"},"0xcada49d6a37864931afb639203501695")," of my local dev network.\nWe will publish the ",(0,o.kt)("inlineCode",{parentName:"p"},"MyCounter")," module to this address."),(0,o.kt)("p",null,"Define the syntax of the module:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-move"},"module <address>::<identifier> {\n    // module body\n}\n")),(0,o.kt)("h3",{id:"the-first-version-of-the-code"},"The first version of the code"),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"MyCounter")," module, we define a structure ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter"),", which contains a field ",(0,o.kt)("inlineCode",{parentName:"p"},"value")," representing the number of times the counter is triggered.\nThe type of ",(0,o.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,o.kt)("inlineCode",{parentName:"p"},"u64"),", that is, unsigned 64-bit integer."),(0,o.kt)("p",null,"The following is the first version of the ",(0,o.kt)("inlineCode",{parentName:"p"},"MyCounter")," module:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-move",metastring:'title="my-counter/sources/MyCounter.move"',title:'"my-counter/sources/MyCounter.move"'},"module 0xcada49d6a37864931afb639203501695::MyCounter {\n    struct Counter {\n        value: u64,\n    }\n}\n")),(0,o.kt)("p",null,"We can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"mpm package build")," command to build our counter program."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ mpm package build\n\nBUILDING my-counter\n")),(0,o.kt)("p",null,"As you can see, the program passed the compilation smoothly and then went down."),(0,o.kt)("p",null,"Because this address is too long, you can set a ",(0,o.kt)("em",{parentName:"p"},"named address")," in the ",(0,o.kt)("em",{parentName:"p"},"Move.toml")," file, which can be globally replaced in the Move project."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-toml",metastring:'title="my-counter/Move.toml" {5,6}',title:'"my-counter/Move.toml"',"{5,6}":!0},'[package]\nname = "my-counter"\nversion = "0.0.1"\n\n[addresses]\nMyCounterAddr = "0xcada49d6a37864931afb639203501695"\n...\n')),(0,o.kt)("admonition",{title:"Tips",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Highlighted blocks of code are changes or parts that need attention.")),(0,o.kt)("p",null,"In this way, the first version of code can be written as:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-move",metastring:'title="my-counter/sources/MyCounter.move" {1}',title:'"my-counter/sources/MyCounter.move"',"{1}":!0},"module MyCounterAddr::MyCounter {\n    struct Counter {\n        value: u64,\n    }\n}\n")),(0,o.kt)("p",null,"MyCounterAddr is a named address and MyCounter is a module identifier."),(0,o.kt)("p",null,"Then we compile the code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ mpm package build\n\nBUILDING my-counter\n")),(0,o.kt)("p",null,"There is no error, indicating that there is no problem."),(0,o.kt)("h3",{id:"initialization-method-init"},"Initialization method init"),(0,o.kt)("p",null,"Then we customize an initialization method to create a ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter")," instance and ",(0,o.kt)("em",{parentName:"p"},'"move"')," to the storage space of the caller's account."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-move",metastring:'title="my-counter/sources/MyCounter.move" {6-8}',title:'"my-counter/sources/MyCounter.move"',"{6-8}":!0},"module MyCounterAddr::MyCounter {\n    struct Counter {\n        value: u64,\n    }\n\n    public fun init(account: &signer) {\n        move_to(account, Counter { value: 0 });\n    }\n}\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"move_to<T>(&signer, T)")," here is a built-in method to add resources of type ",(0,o.kt)("inlineCode",{parentName:"p"},"T")," to the storage space under the address of the account ",(0,o.kt)("inlineCode",{parentName:"p"},"signer")," (the brackets here represent generics)."),(0,o.kt)("admonition",{title:"More information",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The storage space here is ",(0,o.kt)("inlineCode",{parentName:"p"},"GlobalState"),", which can be simply understood as the place where the account is stored in ",(0,o.kt)("em",{parentName:"p"},"resources")," and ",(0,o.kt)("em",{parentName:"p"},"module code"),".\nMore details can be found in ",(0,o.kt)("a",{parentName:"p",href:"/starcoin-cookbook/docs/concepts/state"},"Concept-Status"),".")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"signer")," in the ",(0,o.kt)("inlineCode",{parentName:"p"},"init")," function on line 6 ",(0,o.kt)("inlineCode",{parentName:"p"},"account: &signer")," is the built-in type of Move.\nIf you want to put resources under the caller's account address, you need to pass the ",(0,o.kt)("inlineCode",{parentName:"p"},"&signer")," parameter to the function.\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"&signer")," data type represents the initiator of the current transaction (the caller of the function can be any account)."),(0,o.kt)("admonition",{title:"Help you understand \u2014\u2014 signer",type:"info"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"p"},"signer")," is like ",(0,o.kt)("em",{parentName:"p"},"uid"),' under Linux.\nAfter logging in to the Linux system, all the commands you enter are considered to be "this logged-in ',(0,o.kt)("strong",{parentName:"p"},"certified"),' user" operation.\nThe key is that this authentication process is not done in running commands and programs, but is completed by the operating system after booting.'),(0,o.kt)("p",{parentName:"admonition"},'Corresponding to Move, this authentication process is a well-known "private key signature, public key verification" process similar to other blockchain systems.\nWhen the function with the ',(0,o.kt)("inlineCode",{parentName:"p"},"&signer")," parameter is executed, the identity of the initiator has been authenticated by the Starcoin blockchain.")),(0,o.kt)("p",null,"Let's try to compile it:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ mpm package build\n\nBUILDING my-counter\nerror[E05001]: ability constraint not satisfied\n  \u250c\u2500 ./sources/MyCounter.move:7:6\n  \u2502\n2 \u2502     struct Counter {\n  \u2502            ------- To satisfy the constraint, the 'key' ability would need to be added here\n  \xb7\n7 \u2502         move_to(account, Counter { value: 0 });\n  \u2502         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  \u2502         \u2502                \u2502\n  \u2502         \u2502                The type 'MyCounterAddr::MyCounter::Counter' does not have the ability 'key'\n  \u2502         Invalid call of 'move_to'\n")),(0,o.kt)("p",null,"Something went wrong! Prompt us \"ability constraint not satisfied\", and the following is a sentence \"The type 'MyCounterAddr::MyCounter::Counter' does not have the ability 'key'\".\nThe compiler told us that the resource type ",(0,o.kt)("inlineCode",{parentName:"p"},"MyCounterAddr::MyCounter::Counter")," lacks ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," ",(0,o.kt)("em",{parentName:"p"},"capacity"),", so it cannot be added to the account address with ",(0,o.kt)("inlineCode",{parentName:"p"},"move_to"),"."),(0,o.kt)("p",null,"The ",(0,o.kt)("em",{parentName:"p"},"ability")," feature of Move are involved here."),(0,o.kt)("admonition",{title:"concept \u2014\u2014 ability",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},'Move language is a resource-oriented language, and the core is resource management.\nFor what "',(0,o.kt)("strong",{parentName:"p"},"ability"),'" resources have, the Move programming language abstracts the four attributes of resources -- copyable(copy), indexable (key), discarded(drop), and storable(store).\nThrough the different combinations of these four attributes, users can easily define the resources of any ability.\nFor example, users can define an ordinary information type through the combination of ',(0,o.kt)("inlineCode",{parentName:"p"},"key + copy + drop + store"),", and an asset type through the combination of ",(0,o.kt)("inlineCode",{parentName:"p"},"key + store")," -- such as NFT -- without ",(0,o.kt)("inlineCode",{parentName:"p"},"copy")," attributes ensure that NFT cannot be copied at will, which improves security."),(0,o.kt)("p",{parentName:"admonition"},"Move provides four competencies:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"copy: Indicates whether the value can be copied."),(0,o.kt)("li",{parentName:"ul"},"drop: Indicates whether the value can be discarded at the end of the scope."),(0,o.kt)("li",{parentName:"ul"},"key: Indicates whether the value can be accessed as a global key."),(0,o.kt)("li",{parentName:"ul"},"store: Indicates whether the value can be saved to the global state.")),(0,o.kt)("p",{parentName:"admonition"},'By endowing resources with different ability, the Move virtual machine can fundamentally ensure that "resources" can only ',(0,o.kt)("em",{parentName:"p"},"move"),".\nAs for copying, modifying and discarding, it depends on the specific ability of resources.\nIf it is forcibly copied, modified or discarded, the code compilation will go wrong and there is no chance to run at all."),(0,o.kt)("p",{parentName:"admonition"},"For more information, please refer to the ",(0,o.kt)("a",{parentName:"p",href:"/starcoin-cookbook/docs/move/understanding-ability"},"Understanding Ability")," chapter.")),(0,o.kt)("p",null,"Generally speaking, we believe that ",(0,o.kt)("strong",{parentName:"p"},"the structure with ",(0,o.kt)("inlineCode",{parentName:"strong"},"key")," ability is resources"),"."),(0,o.kt)("p",null,"We modify the code and follow the prompts to add ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," ability."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-move",metastring:'title="my-counter/sources/MyCounter.move" {2}',title:'"my-counter/sources/MyCounter.move"',"{2}":!0},"module MyCounterAddr::MyCounter {\n    struct Counter has key {\n        value: u64,\n    }\n\n    public fun init(account: &signer) {\n        move_to(account, Counter { value: 0 });\n    }\n}\n")),(0,o.kt)("p",null,"At this time, it can be compiled again."),(0,o.kt)("h3",{id:"counter-plus-one-method-incr"},"Counter plus one method incr"),(0,o.kt)("p",null,"Now add an ",(0,o.kt)("inlineCode",{parentName:"p"},"incr")," method to the ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter")," resource."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-move",metastring:'title="my-counter/sources/MyCounter.move" {3,13-16}',title:'"my-counter/sources/MyCounter.move"',"{3,13-16}":!0},"module MyCounterAddr::MyCounter {\n\n    use StarcoinFramework::Signer;\n\n    struct Counter has key {\n        value: u64,\n    }\n\n    public fun init(account: &signer) {\n        move_to(account, Counter { value: 0 });\n    }\n\n    public fun incr(account: &signer) {\n        let counter = borrow_global_mut<Counter>(Signer::address_of(account));\n        counter.value = counter.value + 1\n    }\n}\n")),(0,o.kt)("p",null,"Note that in line 3, we refer to a dependency - ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/starcoinorg/starcoin-framework"},"StarcoinFramwork")," can be regarded as the Stdlib standard library of Starcoin.\nWe need to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"Signer::address_of(&signer)")," method in the library to extract the address of the ",(0,o.kt)("inlineCode",{parentName:"p"},"signer"),"."),(0,o.kt)("p",null,"Modify the ",(0,o.kt)("em",{parentName:"p"},"Move.toml")," file to add dependencies to the project"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-toml",metastring:'title="my-counter/Move.toml" {6,9-10}',title:'"my-counter/Move.toml"',"{6,9-10}":!0},'[package]\nname = "my-counter"\nversion = "0.0.1"\n\n[addresses]\nStarcoinFramework = "0x1"\nMyCounterAddr = "0xcada49d6a37864931afb639203501695"\n\n[dependencies]\nStarcoinFramework = {git = "https://github.com/starcoinorg/starcoin-framework.git", rev="2ee2378d0d6eaa4ebc1ac6d3e33c4aee11bc2fe4"}\n')),(0,o.kt)("p",null,"Since the StarcoinFramework code is possibly updated,  the rev(",(0,o.kt)("inlineCode",{parentName:"p"},"2ee2378d0d6eaa4ebc1ac6d3e33c4aee11bc2fe4"),") of StarcoinFramework may be invalid for this example causing errors or warnings in the build or test progress. If it is, please check the latest version and update the rev of StarcoinFramework."),(0,o.kt)("p",null,"Line 14 has a new method ",(0,o.kt)("inlineCode",{parentName:"p"},"borrow_global_mut"),".\nLike the previous ",(0,o.kt)("inlineCode",{parentName:"p"},"move_to"),", it is a built-in method to operate resources on the storage space of the account address."),(0,o.kt)("admonition",{title:"Gas Station -- Operation of Resources",type:"tip"},(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"move_to<T>(&signer, T)"),": Publish and add resources of type ",(0,o.kt)("inlineCode",{parentName:"li"},"T")," to the address of the ",(0,o.kt)("inlineCode",{parentName:"li"},"signer"),"."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"move_from<T>(address): T"),": Delete the resource of type ",(0,o.kt)("inlineCode",{parentName:"li"},"T")," from the address and return this resource."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"borrow_global<T>(address): &T"),": Returns an ",(0,o.kt)("em",{parentName:"li"},"immutable reference")," to a resource of type ",(0,o.kt)("inlineCode",{parentName:"li"},"T")," under the address."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"borrow_global_mut<T>(address): &mut T"),": Returns a ",(0,o.kt)("em",{parentName:"li"},"mutable reference")," to a resource of type ",(0,o.kt)("inlineCode",{parentName:"li"},"T")," under the address."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"exists<T>(address): bool"),": Judge whether there are resources of type ",(0,o.kt)("inlineCode",{parentName:"li"},"T")," under the address.")),(0,o.kt)("p",{parentName:"admonition"},"To use these methods, resource ",(0,o.kt)("inlineCode",{parentName:"p"},"T")," must be defined in the current module.\n",(0,o.kt)("strong",{parentName:"p"},"This ensures that resources can only be operated by the API method provided by the module that defines the resource."),"\nThe parameters ",(0,o.kt)("inlineCode",{parentName:"p"},"address")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"signer")," represent the address stored in a resource of type ",(0,o.kt)("inlineCode",{parentName:"p"},"T"),".")),(0,o.kt)("p",null,"Then we will try to compile it:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ mpm package build\nCACHED StarcoinFramework\nBUILDING my-counter\nerror[E04020]: missing acquires annotation\n   \u250c\u2500 ./sources/MyCounter.move:14:20\n   \u2502\n14 \u2502         let counter = borrow_global_mut<Counter>(Signer::address_of(account));\n   \u2502                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   \u2502                       \u2502                 \u2502\n   \u2502                       \u2502                 The call acquires 'MyCounterAddr::MyCounter::Counter', but the 'acquires' list for the current function does not contain this type. It must be present in the calling context's acquires list\n   \u2502                       Invalid call to borrow_global_mut.\n")),(0,o.kt)("p",null,"Oh! Something went wrong again.\nThe error message prompts that when we call the method in line 14 to get the ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter")," structure, the type (Counter structure) must appear in the ",(0,o.kt)("inlineCode",{parentName:"p"},"acquires")," list of the call context, and the ",(0,o.kt)("inlineCode",{parentName:"p"},"acquires")," list of the current function does not contain this type."),(0,o.kt)("p",null,"Here we introduce the concept of ",(0,o.kt)("em",{parentName:"p"},"acquire"),"."),(0,o.kt)("admonition",{title:"concept",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"When a function accesses resources with ",(0,o.kt)("inlineCode",{parentName:"p"},"move_from()"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"borrow_global()")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"borrow_global_mut()"),', the function must show which resource the declaration needs to "',(0,o.kt)("strong",{parentName:"p"},"acquire"),"\".\nThis will be ensured by Move's type system that references to resources are safe and there are no suspended references.")),(0,o.kt)("p",null,"The revised code is as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-move",metastring:'title="my-counter/sources/MyCounter.move" {13}',title:'"my-counter/sources/MyCounter.move"',"{13}":!0},"module MyCounterAddr::MyCounter {\n\n    use StarcoinFramework::Signer;\n\n    struct Counter has key {\n        value: u64,\n    }\n\n    public fun init(account: &signer) {\n        move_to(account, Counter { value: 0 });\n    }\n\n    public fun incr(account: &signer) acquires Counter {\n        let counter = borrow_global_mut<Counter>(Signer::address_of(account));\n        counter.value = counter.value + 1\n    }\n}\n")),(0,o.kt)("p",null,"It can now be compiled."),(0,o.kt)("p",null,"Next, we write functions that can be executed directly through the console."),(0,o.kt)("h3",{id:"write-a-callable-script-function"},"Write a callable script function"),(0,o.kt)("p",null,"The previously written ",(0,o.kt)("inlineCode",{parentName:"p"},"public fun init")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"public fun incr")," functions cannot be called and executed directly in the console.\nYou need to use the ",(0,o.kt)("em",{parentName:"p"},"entry function")," to call."),(0,o.kt)("p",null,"At present, in Move, the entry method is achieved through ",(0,o.kt)("inlineCode",{parentName:"p"},"script function"),", writing ",(0,o.kt)("inlineCode",{parentName:"p"},"public(script) fun"),"."),(0,o.kt)("p",null,"The concept of function ",(0,o.kt)("em",{parentName:"p"},"visibility")," is introduced here.\nDifferent visibility determines where functions can be called. (The following concept tip can be skipped first)"),(0,o.kt)("admonition",{title:"Concept - Function Visibility",type:"tip"},(0,o.kt)("table",{parentName:"admonition"},(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"visibility"),(0,o.kt)("th",{parentName:"tr",align:null},"write"),(0,o.kt)("th",{parentName:"tr",align:null},"explain"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"internal"),(0,o.kt)("td",{parentName:"tr",align:null},"fun"),(0,o.kt)("td",{parentName:"tr",align:null},"It can also be called private, which can only be called in the same module.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"public"),(0,o.kt)("td",{parentName:"tr",align:null},"public fun"),(0,o.kt)("td",{parentName:"tr",align:null},"It can be called by functions in any module.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"public entry")),(0,o.kt)("td",{parentName:"tr",align:null},"public entry fun"),(0,o.kt)("td",{parentName:"tr",align:null},"The entry function is an entry method in the module, which can be called by initiating a transaction through the console, just like the local execution script (although the code has been stored under the module address on the chain).")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"public friend"),(0,o.kt)("td",{parentName:"tr",align:null},"public(friend) fun"),(0,o.kt)("td",{parentName:"tr",align:null},"It can be called in the same module and added to the trusted module call of the ",(0,o.kt)("inlineCode",{parentName:"td"},"friend list"),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},":::"),(0,o.kt)("td",{parentName:"tr",align:null}),(0,o.kt)("td",{parentName:"tr",align:null})))),(0,o.kt)("p",{parentName:"admonition"},"Next, let's write the ",(0,o.kt)("em",{parentName:"p"},"script function")," corresponding to ",(0,o.kt)("inlineCode",{parentName:"p"},"init")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"incr")," functions."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-move",metastring:'title="my-counter/sources/MyCounter.move" {18-24}',title:'"my-counter/sources/MyCounter.move"',"{18-24}":!0},"module MyCounterAddr::MyCounter {\n\n    use StarcoinFramework::Signer;\n\n    struct Counter has key, store {\n        value: u64,\n    }\n\n    public fun init(account: &signer) {\n        move_to(account, Counter { value: 0 });\n    }\n\n    public fun incr(account: &signer) acquires Counter {\n        let counter = borrow_global_mut<Counter>(Signer::address_of(account));\n        counter.value = counter.value + 1\n    }\n\n    public entry fun init_counter(account: signer) {\n        Self::init(&account);\n    }\n\n    public entry fun incr_counter(account: signer) acquires Counter {\n        Self::incr(&account);\n    }\n}\n")),(0,o.kt)("p",{parentName:"admonition"},"The only thing to explain is that ",(0,o.kt)("inlineCode",{parentName:"p"},"Self")," refers to the current module."),(0,o.kt)("p",{parentName:"admonition"},"Now, we publish the module to the chain and try to call it."),(0,o.kt)("h2",{parentName:"admonition",id:"publish-to-the-chain-and-call"},"Publish to the chain and call"),(0,o.kt)("h3",{parentName:"admonition",id:"publish-to-the-chain"},"Publish to the chain"),(0,o.kt)("p",{parentName:"admonition"},"Run the ",(0,o.kt)("inlineCode",{parentName:"p"},"mpm release")," command:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ mpm release\n\nPackaging Modules:\n         0xcada49d6a37864931afb639203501695::MyCounter\nRelease done: release/my-counter.v0.0.1.blob, package hash: 0x31b36a1cd0fd13e84034a02e9972f68f1c9b1cde1c9dfbe7ac69f32f6fc6dafa\n")),(0,o.kt)("p",{parentName:"admonition"},"It will package the compilation module and get the binary package."),(0,o.kt)("p",{parentName:"admonition"},"In the previous article, we have prepared an account with the address ",(0,o.kt)("inlineCode",{parentName:"p"},"0xcada49d6a37864931afb639203501695"),".\nIf there is no balance, we can get some test coins through the ",(0,o.kt)("inlineCode",{parentName:"p"},"dev get-coin")," command.\nNow deploy the compiled module to this account address."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-starcoin",metastring:'title="Starcoin console" {1,3,5}',title:'"Starcoin','console"':!0,"{1,3,5}":!0},'starcoin% account unlock 0xcada49d6a37864931afb639203501695 -p <MY-PASSWORD>\n\nstarcoin% dev deploy /path/to/my-counter/release/my-counter.v0.0.1.blob -s 0xcada49d6a37864931afb639203501695 -b\n\ntxn 0xf60662ba0ac3373c28f827a0ac9d9db6667c3921056905356aa5414b3bf3df09 submitted.\n{\n  "ok": {\n    "dry_run_output": {\n      "events": [],\n      "explained_status": "Executed",\n      "gas_used": "7800",\n      "status": "Executed",\n      "write_set": [\n        {\n          "access_path": "0x00000000000000000000000000000001/1/0x00000000000000000000000000000001::TransactionFee::TransactionFee<0x00000000000000000000000000000001::STC::STC>",\n          "action": "Value",\n          "value": {\n            "Resource": {\n              "json": {\n                "fee": {\n                  "value": 292331\n                }\n              },\n              "raw": "0xeb750400000000000000000000000000"\n            }\n          }\n        },\n...\n')),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"p"},"-s")," that is ",(0,o.kt)("inlineCode",{parentName:"p"},"--sender")," is the sender, ",(0,o.kt)("inlineCode",{parentName:"p"},"-b")," is ",(0,o.kt)("inlineCode",{parentName:"p"},"--blocking"),", blocking and waiting for the command to be executed."),(0,o.kt)("p",{parentName:"admonition"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"txn 0xf60662... submitted")," on line 5 means that the smart contract of the counter has been successfully deployed to the publisher's address, which belongs to an on-chain transaction, and the chain has recorded the transaction status."),(0,o.kt)("p",{parentName:"admonition"},"At this time, we can check the storage of the code on the chain."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-starcoin",metastring:'title="Starcoin console" {1}',title:'"Starcoin','console"':!0,"{1}":!0},'starcoin% state list code 0xcada49d6a37864931afb639203501695\n\n{\n  "ok": {\n    "codes": {\n      "MyCounter": {\n        "abi": {\n          "module_name": {\n            "address": "0xcada49d6a37864931afb639203501695",\n            "name": "MyCounter"\n          },\n          ...\n}\n')),(0,o.kt)("p",{parentName:"admonition"},"You can see that there is only ",(0,o.kt)("inlineCode",{parentName:"p"},"MyCounter"),", the contract code at the address of ",(0,o.kt)("inlineCode",{parentName:"p"},"0xcada49d6a37864931afb639203501695"),".")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"state")," command is used to view the data under the account address.\nYou can enter ",(0,o.kt)("inlineCode",{parentName:"p"},"state --help")," in the console to see more help.\n:::"),(0,o.kt)("h3",{id:"call-init_counter-to-initialize-resources"},"Call init_counter to initialize resources"),(0,o.kt)("p",null,"Use the ",(0,o.kt)("inlineCode",{parentName:"p"},"account execute-function")," command to execute a script function.\nNow we call the ",(0,o.kt)("inlineCode",{parentName:"p"},"init_counter")," method to initialize the ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter")," resource to the caller's address."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-starcoin",metastring:'title="Starcoin console" {1}',title:'"Starcoin','console"':!0,"{1}":!0},'starcoin% account execute-function --function 0xcada49d6a37864931afb639203501695::MyCounter::init_counter -s 0xcada49d6a37864931afb639203501695 -b\n\ntxn 0x032c0eda779157e0ef3949338c3b3e4e6528c7720776d02c2cb0ddd64804f1c2 submitted.\n{\n  "ok": {\n    "dry_run_output": {\n      "events": [],\n      "explained_status": "Executed",\n      "gas_used": "11667",\n      "status": "Executed",\n      "write_set": [\n...\n}\n')),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"init_counter")," function, we initialize a ",(0,o.kt)("em",{parentName:"p"},"Counter object (resource)")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"move_to")," to the caller's address.\nLet's see if this resource exists. Use the ",(0,o.kt)("inlineCode",{parentName:"p"},"state list resource <ADDRESS>")," command to view the list of resources under a given address."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-starcoin",metastring:'title="Starcoin console" {1}',title:'"Starcoin','console"':!0,"{1}":!0},'starcoin% state list resource 0xcada49d6a37864931afb639203501695\n\n{\n    ...\uff08There are many output, we observe the last one\uff09\n    "0xcada49d6a37864931afb639203501695::MyCounter::Counter": {\n        "json": {\n          "value": 0\n        },\n        "raw": "0x0000000000000000"\n    }\n}\n')),(0,o.kt)("p",null,"You can see the address ",(0,o.kt)("inlineCode",{parentName:"p"},"0xcada49d6a37864931afb639203501695")," had ",(0,o.kt)("inlineCode",{parentName:"p"},"0xcada49d6a37864931afb639203501695::MyCounter::Counter")," type of resource, the content is ",(0,o.kt)("inlineCode",{parentName:"p"},'"value": 0'),"."),(0,o.kt)("p",null,"Some friends may wonder why the ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter")," resource type name is written so long.\nLet's first help you recall the concept of FQN."),(0,o.kt)("admonition",{title:"Concept - Full Name FQN",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("em",{parentName:"p"},"Fully Qualified Name (FQN)")," is a computer term that defines the name of a resource (object, function, domain name, file) in a call context. For example:"),(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},"The absolute path name ",(0,o.kt)("inlineCode",{parentName:"li"},"/path/to/file")," of Linux is the ",(0,o.kt)("em",{parentName:"li"},"fully qualified file name"),", and the relative ",(0,o.kt)("inlineCode",{parentName:"li"},"./to/file")," is a relative path address."),(0,o.kt)("li",{parentName:"ol"},"In the domain name system, ",(0,o.kt)("inlineCode",{parentName:"li"},"google.com.")," is an ",(0,o.kt)("em",{parentName:"li"},"fully qualified domain name"),", pay attention to the last ",(0,o.kt)("inlineCode",{parentName:"li"},"."),".\nThis means that this domain name should not continue to be recursively resolved.")),(0,o.kt)("p",{parentName:"admonition"},"Then it corresponds to the Move language, and the resource type is published under an address, which belongs to this address.\nAddress ",(0,o.kt)("inlineCode",{parentName:"p"},"0x001")," can create a resource of ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter")," type, and address ",(0,o.kt)("inlineCode",{parentName:"p"},"0x002")," can also create a resource of ",(0,o.kt)("inlineCode",{parentName:"p"},"Counter")," type.\nTo distinguish two ",(0,o.kt)("inlineCode",{parentName:"p"},"Counters"),", you need to bring an address and module name."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre"},"<address>::<module_identifier>::<structure>\n"))),(0,o.kt)("h3",{id:"call-incr_counter-incremental-counter"},"Call incr_counter incremental counter"),(0,o.kt)("p",null,"Next, call another function ",(0,o.kt)("inlineCode",{parentName:"p"},"incr_counter")," to try to add one to the counter."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-starcoin",metastring:'title="Starcoin console" {1}',title:'"Starcoin','console"':!0,"{1}":!0},"starcoin% account execute-function --function 0xcada49d6a37864931afb639203501695::MyCounter::incr_counter -s 0xcada49d6a37864931afb639203501695 -b\n\ntxn 0x032c0eda779157e0ef3949338c3b3e4e6528c7720776d02c2cb0ddd64804f1c2 submitted.\n...\n")),(0,o.kt)("p",null,"Check the resources again.\nWith the previous concept of FQN, this time we will use ",(0,o.kt)("inlineCode",{parentName:"p"},"state get resource <ADDRESS> [RESOURCE_TYPE]")," to view specific resource types under ",(0,o.kt)("inlineCode",{parentName:"p"},"ADDRESS"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-starcoin",metastring:'title="Starcoin console" {1}',title:'"Starcoin','console"':!0,"{1}":!0},'starcoin% state get resource 0xcada49d6a37864931afb639203501695 0xcada49d6a37864931afb639203501695::MyCounter::Counter\n\n{\n  "ok": {\n    "json": {\n      "value": 1\n    },\n    "raw": "0x0100000000000000"\n  }\n}\n')),(0,o.kt)("p",null,"You can see that the ",(0,o.kt)("inlineCode",{parentName:"p"},"value")," of the counter has changed to ",(0,o.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,o.kt)("h3",{id:"another-account-call"},"Another account call"),(0,o.kt)("p",null,"In the previous example, we used the same address ",(0,o.kt)("inlineCode",{parentName:"p"},"0xcada49d6a37864931afb639203501695")," to publish modules, create a counter resource type (dev deploy), and call function add counters (account execute-function)."),(0,o.kt)("p",null,"We will have another account to initialize the counter and the self-increment counter. Suppose a local account is ",(0,o.kt)("inlineCode",{parentName:"p"},"0x012ABC")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-starcoin",metastring:'title="Starcoin console"',title:'"Starcoin','console"':!0},"starcoin% account execute-function -s 0x012ABC  --function 0xb19b07b76f00a8df445368a91c0547cc::MyCounter::init_counter -b\n\nstarcoin% state get resource 0x012ABC 0xcada49d6a37864931afb639203501695::MyCounter::Counter\n")),(0,o.kt)("p",null,"Readers can observe the changes in resources under ",(0,o.kt)("inlineCode",{parentName:"p"},"0x012ABC"),"."),(0,o.kt)("admonition",{title:"\u5386\u53f2 \u2014\u2014 script \u548c script function",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"In order to prevent people from being confused by ",(0,o.kt)("inlineCode",{parentName:"p"},"scripts")," in tutorials read elsewhere, let's briefly talk about the origin of history. ",(0,o.kt)("em",{parentName:"p"},"This section can be skipped.")),(0,o.kt)("p",{parentName:"admonition"},"We use ",(0,o.kt)("em",{parentName:"p"},"Python")," pip or ",(0,o.kt)("em",{parentName:"p"},"Node.js")," ",(0,o.kt)("inlineCode",{parentName:"p"},"npm")," to assist in understanding."),(0,o.kt)("p",{parentName:"admonition"},"Before the emergence of centralized package management hosting platforms such as ",(0,o.kt)("inlineCode",{parentName:"p"},"pip")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"npm"),", we want to install a package, which requires ",(0,o.kt)("inlineCode",{parentName:"p"},"setup.py install /path/to/package"),".\nOf course, this is not convenient for the distribution, dissemination and indexing of packages.\nLater, with ",(0,o.kt)("inlineCode",{parentName:"p"},"pip"),", how did we do it? The package author first uploaded his own package to the ",(0,o.kt)("inlineCode",{parentName:"p"},"pip")," repository, and the ",(0,o.kt)("inlineCode",{parentName:"p"},"pip")," will store the package and index it.\nOrdinary users only need ",(0,o.kt)("inlineCode",{parentName:"p"},"pip install package_name"),".\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"pip")," tool will download the source code according to the ",(0,o.kt)("inlineCode",{parentName:"p"},"package_name")," you provided, and then install it.\nThe two packages are actually installed in the same way."),(0,o.kt)("p",{parentName:"admonition"},"It now corresponds to Move. Before the ",(0,o.kt)("inlineCode",{parentName:"p"},"script function")," appeared, there was only ",(0,o.kt)("inlineCode",{parentName:"p"},"script"),", and the ",(0,o.kt)("inlineCode",{parentName:"p"},"script")," was written in the ",(0,o.kt)("inlineCode",{parentName:"p"},"scripts")," directory equal to the ",(0,o.kt)("inlineCode",{parentName:"p"},"sources")," directory."),(0,o.kt)("p",{parentName:"admonition"},"The script is like a local Python package. The script can be compiled into bytecode. When calling the script, you need to create a transaction. Bring the compiled bytecode in the payload, and the script can be Mov on the node. E The virtual machine executed it. The right should be in the Starcoin console:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre"},"starcoin% account execute-script </path/to/mv_file>\n")),(0,o.kt)("p",{parentName:"admonition"},"As an alternative to ",(0,o.kt)("inlineCode",{parentName:"p"},"script"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"script function")," ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/move-language/move/commit/e0a3acb7d5e3f5dbc07ee76b47dd05229584d4d0"},"has been added to the Move language"),".\nAnalogy to packages stored in the pip repository.\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"script function")," will be published to an address together in the module (just as the package author publishes the package in ",(0,o.kt)("inlineCode",{parentName:"p"},"pip"),").\nAt this time, to call the ",(0,o.kt)("inlineCode",{parentName:"p"},"script"),", you need to create a transaction, and the address of the published code in ",(0,o.kt)("inlineCode",{parentName:"p"},"payload"),".\nCorresponding to the Starcoin console are:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre"},"starcoin% account execute-function --function  <0xAddress>::<module>::<function> --arg xxx\n")),(0,o.kt)("p",{parentName:"admonition"},"Of course, Move is also an evolving language, and ",(0,o.kt)("inlineCode",{parentName:"p"},"public(script) fun")," ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/move-language/move/pull/186"},"is being replaced by ",(0,o.kt)("inlineCode",{parentName:"a"},"public entry")),". Let's wait and see."),(0,o.kt)("p",{parentName:"admonition"},"To sum up:"),(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"script")," may be abandoned, and it is recommended to use the ",(0,o.kt)("inlineCode",{parentName:"li"},"script function")," as the entry method."),(0,o.kt)("li",{parentName:"ol"},"The next version of Move will replace ",(0,o.kt)("inlineCode",{parentName:"li"},"public(script) fun")," with ",(0,o.kt)("inlineCode",{parentName:"li"},"public entry fun"),"."))),(0,o.kt)("h2",{id:"what-course-to-follow"},"What course to follow"),(0,o.kt)("p",null,"Congratulations, you have completed the whole process of writing, deploying and invoking a simple contract."),(0,o.kt)("p",null,"The complete code repository is ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/starcoinorg/starcoin-cookbook/tree/main/examples/my-counter"},"here"),"."),(0,o.kt)("p",null,"Next,"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You can systematically learn the Move language through the ",(0,o.kt)("a",{parentName:"li",href:"/starcoin-cookbook/docs/move/move-language/"},"Move language")),(0,o.kt)("li",{parentName:"ul"},"View ","[more Move examples]"),(0,o.kt)("li",{parentName:"ul"},"Learn ",(0,o.kt)("a",{parentName:"li",href:"/starcoin-cookbook/docs/move/move-test/move-unit-test"},"how to Debug/test Move module")),(0,o.kt)("li",{parentName:"ul"},"Learn about the ",(0,o.kt)("a",{parentName:"li",href:"/starcoin-cookbook/docs/move/starcoin-framework/"},"Starcoin Move Framework")),(0,o.kt)("li",{parentName:"ul"},"Advanced Move can be learned through ","[Move Advanced Development]","."),(0,o.kt)("li",{parentName:"ul"},"Learn about the ",(0,o.kt)("a",{parentName:"li",href:"/starcoin-cookbook/docs/move/move-prover/move-spec-language"},"Move specification language and Move Prover")," to develop safer Move applications"),(0,o.kt)("li",{parentName:"ul"},"Explore more features of ",(0,o.kt)("a",{parentName:"li",href:"/starcoin-cookbook/docs/move/move-package-manager"},"Move Package Manager"))),(0,o.kt)("p",null,"Or you can directly enter the world of Dapp."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/starcoin-cookbook/docs/web3/"},"Web3 and DApp develop"))))}u.isMDXComponent=!0}}]);